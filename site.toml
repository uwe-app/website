lang = "en"
host = "uwe.app"
version = "1.0.0"

[dependencies]
#"std::core" = { git = "https://github.com/uwe-app/plugins", version = "~1" }
#"std::core" = { version = "~1" }
"std::core" = { path = "../../plugins/std/core", version = "~1" }
"std::crumbtrail" = { version = "~1", apply = { styles = [ "/**/**" ] } }
"css::new" = { version = "~1", apply = { styles = [ "/**/**" ] } }

[dependencies."font::inter"]
path = "../../plugins/font/inter"
version = "~3"
apply = { styles = [ "/**/**" ] }
features = ["regular"]

[dependencies."font::awesome"]
path = "../../plugins/font/awesome"
version = "~5"
apply = { styles = [ "/docs/plugins/**" ] }

[dependencies."font::source-code-pro"]
path = "../../plugins/font/source-code-pro"
version = "~1"
apply = { styles = [ "/docs/plugins/**" ] }

[dependencies."std::book"]
path = "../../plugins/std/book"
version = "~1"
apply = { styles = [ "/docs/plugins/**" ], scripts = [ "/docs/plugins/**" ], layouts = { main = [ "/docs/plugins/**" ] } }

[dependencies."lib::highlight"]
path = "../../plugins/lib/highlight"
version = "~10"
apply = { scripts = [ "/docs/**/**" ], styles = [ "/docs/**/**" ] }

[styles]
main = ["/assets/css/style.css"]

#[scripts]
#main = ["/assets/highlight.pack.js"]

[transform.html]
toc = true

[build]
rewrite-index = true

[page]
description = "Universal Web Editor"
keywords = "Fast, Static, Website, Generator, Markdown, Handlebars, Mdbook, Rust"
authors = [ { name = "Muji", link = "https://tmpfs.org" } ]

[page.menu]
#sidebar = { file = "MENU.md" }
main = { pages = ["/docs/", "/faq/"], description = true }
docs = { directory = "/docs/" }

[page.menu.getting-started-idx]
description = true
pages = [
  "/docs/getting-started/new-project/",
  "/docs/getting-started/build-project/",
  "/docs/getting-started/site-settings/",
  "/docs/getting-started/create-pages/",
  "/docs/getting-started/create-links/",
  "/docs/getting-started/customize/",
  "/docs/getting-started/layouts/",
  "/docs/getting-started/debugging/",
  "/docs/getting-started/conventions/",
  "/docs/getting-started/directory-index/",
]

[page.menu.other-idx]
description = true
pages = [
  "/docs/other/feeds/",
  "/docs/other/link-catalog/",
  "/docs/other/ignores/",
  "/docs/other/commands/",
  "/docs/other/error-page/",
  "/docs/other/strict-mode/",
  "/docs/other/parallel-builds/",
]

[page.menu.design-patterns-idx]
description = true
pages = [
  "/docs/design-patterns/crumbtrails/",
  "/docs/design-patterns/table-of-contents/",
]

#[profile.inc]
#incremental = true
#pristine = false

[profile.dist]
include-index = true

[profile.docs]
base = "docs"
base-href = "docs"
layout = "partials/docs-layout.hbs"
paths = ["assets", "docs"]

[publish.aws]
region = "ap-southeast-1"
credentials = "tmpfs"
environments = {stage = {prefix = "stage"}, production = {prefix = "production"}}
